drop database if exists Hotel;
create database Hotel;
use Hotel;

 create table Clientes(
	 id_cliente int(3) auto_increment primary key,
	 nombre varchar(30),
	 apellido varchar(35),
	 dni int(8),
	 correo_electronico varchar(50),
	 telefono int(10),
	 mascota bool
); 

create table Mascotas(
	 id_mascota int(2) auto_increment primary key,
	 nombre varchar(30),
	 due√±o varchar(35),
	 animal varchar(20)
); 

create table Habitaciones(
	id_habitacion int(3) auto_increment primary key,
	tipo varchar(40),
	precio float(7, 5),
	capacidad int(1),
	estado enum('Disponible' , 'Ocupado'),
	mascota bool
);
 
create table Forma_pago(
	id_pago int auto_increment primary key,
	id_reserva int(1),
	medio_pago enum('efectivo', 'tarjeta','virtual'),
	confirmacion_pago bool
);

create table Personal(
	id_personal int(3) auto_increment primary key,
	sector varchar(20),
    nombre varchar (35),
	horario_entrada datetime,
	horario_salida datetime,
	sueldo float
);

 create table Servicios(
	 id_servicio int(1) auto_increment primary key,
	 nombre varchar(20),
	 precio float(7, 2 ),
	 foreign key (reserva) references reservas
);
 

 
 create table Mantenimientos(
	id_mantenimiento int(1) auto_increment primary key,
    id_personal int(3),
    id_habitacion int(1),
    tipo_mantenimiento enum('limpieza','reparacion','refaccion')
);
 
 create table Reservas(
	 id_reserva int(1) auto_increment primary key,
	 cliente int,
	 fecha_entrada datetime,
	 fecha_salida datetime,
	 foreign key (cliente) references Clientes(id_cliente),
	 foreign key (habitaciones) references habitaciones
);
 
create table Historial_servicios(
    id_historial_serv int(1) auto_increment primary key,
	cliente int(2),
	servicios int (2)
);

create table Historial_Reservas(
    id_historial int(1) auto_increment primary key,
	id_cliente int(2),
	reserva datetime,
	foreign key (reserva) references Reserva
);


